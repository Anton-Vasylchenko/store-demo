(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{53:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),s=n.n(a),i=n(20),o=n(45),u=n(9),d=n(72),j=n(71),l=n(42),h=n(70),b=n(73),p=n(1);var x=function(e){var t=e.handleNo,n=e.handleYes,c=e.show,r=e.name;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.a,{animation:!1,show:c,onHide:t,children:[Object(p.jsx)(b.a.Header,{closeButton:!0,children:Object(p.jsx)(b.a.Title,{children:"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"})}),Object(p.jsxs)(b.a.Body,{children:["\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ",Object(p.jsxs)("b",{children:['"',r,'"']}),"?"]}),Object(p.jsxs)(b.a.Footer,{children:[Object(p.jsx)(h.a,{variant:"secondary",onClick:t,children:"\u041d\u0456"}),Object(p.jsx)(h.a,{variant:"primary",onClick:n,children:"\u0422\u0430\u043a"})]})]})})},O=n.p+"static/media/no-image.92588243.png";n(53);var m=function(e){var t=e.item,n=e.onDelete,c=t.id,a=t.name,s=t.imageUrl,o=t.count,d=t.info,b=r.a.useState(!1),m=Object(u.a)(b,2),f=m[0],v=m[1],g=function(){v(!f)};return Object(p.jsxs)("div",{className:"product",children:[Object(p.jsx)(x,{show:f,handleNo:function(){return v(!1)},handleYes:function(){g(),n(c)},name:a}),Object(p.jsxs)("div",{className:"product__name",children:[a,Object(p.jsx)("div",{className:"product__del",onClick:g,children:"x"})]}),Object(p.jsxs)(j.a,{children:[Object(p.jsx)(l.a,{xs:12,md:5,children:Object(p.jsx)("div",{className:"product__image",children:Object(p.jsx)("img",{onError:function(e){e.target.src=O},src:s,alt:"product"})})}),Object(p.jsxs)(l.a,{xs:12,md:7,children:[Object(p.jsxs)("div",{className:"product__info",children:[" ",d," "]}),Object(p.jsxs)("div",{className:"product__count",children:[" \u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456: ",o," \u0448\u0442."]})]})]}),Object(p.jsx)("div",{className:"product__link",children:Object(p.jsx)(i.b,{to:"/".concat(c),children:Object(p.jsx)(h.a,{variant:"info",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435..."})})})]})},f=(n(57),[{title:"\u0406\u043c\u0435\u043d\u0456",type:"name"},{title:"\u041a\u0456\u043b\u044c\u043a\u043e\u0441\u0442\u0456",type:"count"}]);var v=function(e){var t=e.onToggleSort,n=r.a.useState(0),c=Object(u.a)(n,2),a=c[0],s=c[1];return r.a.useEffect((function(){t("count")}),[]),Object(p.jsxs)("div",{className:"sort-filter",children:[Object(p.jsx)("span",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:"}),Object(p.jsx)("ul",{children:f&&f.map((function(e,n){return Object(p.jsxs)("li",{className:a===n?"sort-active":"",onClick:function(){!function(e,n){s(e),t(n)}(n,e.type)},children:[" ",e.title]},"".concat(e.title,"_").concat(n))}))})]})},g=n(75),w=n(74);var y=function(e){var t=e.details,n=t.show,c=t.handleNo,a=t.handleSubmit,s=t.action,i=t.item,o=r.a.useState(!1),d=Object(u.a)(o,2),j=d[0],x=d[1],O=r.a.useState(i?i.name:""),m=Object(u.a)(O,2),f=m[0],v=m[1],y=r.a.useState(i?i.imageUrl:""),N=Object(u.a)(y,2),C=N[0],_=N[1],k=r.a.useState(i?i.info:""),S=Object(u.a)(k,2),I=S[0],B=S[1],E=r.a.useState(i?i.size.height:""),G=Object(u.a)(E,2),P=G[0],T=G[1],R=r.a.useState(i?i.size.width:""),L=Object(u.a)(R,2),H=L[0],U=L[1],z=r.a.useState(i?i.weight:""),D=Object(u.a)(z,2),F=D[0],J=D[1],W=r.a.useState(i?i.count:""),Y=Object(u.a)(W,2),A=Y[0],M=Y[1],q=function(){c(),x(!1)},K=function(){v(""),_(""),B(""),J(""),U(""),T(""),M("")},Q=function(){x(!j)},V="create"===s?"Create New ":"Edit ";return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.a,{animation:!1,show:n,onHide:q,children:[Object(p.jsx)(b.a.Header,{closeButton:!0,children:Object(p.jsxs)(b.a.Title,{children:[V," Product"]})}),j&&Object(p.jsx)(g.a,{className:"m-2",variant:"danger",children:"Error! Some fields are empty"}),Object(p.jsx)(b.a.Body,{children:Object(p.jsxs)(w.a,{children:[Object(p.jsxs)(w.a.Row,{children:[Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridName",children:[Object(p.jsx)(w.a.Label,{children:"Name"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return v(e.target.value)},type:"text",placeholder:"Enter product name",value:f})]}),Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridImage",children:[Object(p.jsx)(w.a.Label,{children:"Image Url"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return _(e.target.value)},value:C,type:"text",placeholder:"Enter image url"})]})]}),Object(p.jsxs)(w.a.Group,{controlId:"formGridDesc",children:[Object(p.jsx)(w.a.Label,{children:"Description"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return B(e.target.value)},value:I,placeholder:"Enter product description"})]}),Object(p.jsxs)(w.a.Row,{children:[Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridHeight",children:[Object(p.jsx)(w.a.Label,{children:"Height"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return T(e.target.value)},value:P})]}),Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridWidth",children:[Object(p.jsx)(w.a.Label,{children:"Width"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return U(e.target.value)},value:H})]}),Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridWeight",children:[Object(p.jsx)(w.a.Label,{children:"Weight"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return J(e.target.value)},value:F})]}),Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridCount",children:[Object(p.jsx)(w.a.Label,{children:"Count"}),Object(p.jsx)(w.a.Control,{onChange:function(e){return M(e.target.value)},value:A})]})]}),Object(p.jsx)(h.a,{variant:"secondary",onClick:q,children:"Cancel"}),Object(p.jsx)(h.a,{className:"m-2",variant:"primary",type:"submit",onClick:function(){var e={name:f,imageUrl:C,weight:F,count:A,info:I,size:{height:P,width:H},comments:[]};f&&C&&F&&A&&I&&P&&H?(!i&&K(),c(),a(e)):Q()},children:"Ok"})]})})]})})};var N=function(e){var t=e.details,n=t.show,c=t.handleNo,r=t.handleYes;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.a,{animation:!1,show:n,onHide:c,children:[Object(p.jsx)(b.a.Header,{closeButton:!0,children:Object(p.jsx)(b.a.Title,{children:"Create New Comment"})}),Object(p.jsx)(b.a.Body,{children:Object(p.jsxs)(w.a,{children:[Object(p.jsx)(w.a.Row,{children:Object(p.jsxs)(w.a.Group,{as:l.a,controlId:"formGridImage",children:[Object(p.jsx)(w.a.Label,{children:"Text"}),Object(p.jsx)(w.a.Control,{type:"text",placeholder:"Please, enter your text here"})]})}),Object(p.jsx)(h.a,{variant:"secondary",onClick:c,children:"Cancel"}),Object(p.jsx)(h.a,{className:"m-2",variant:"primary",type:"submit",onClick:r,children:"Create"})]})})]})})};n(59);var C=function(e){var t="form"===e.type?Object(p.jsx)(y,{details:e}):Object(p.jsx)(N,{details:e});return Object(p.jsx)("div",{children:t})};n(60);var _=function(e){var t=e.nameBtn,n=e.type,c=e.action,a=e.handleSubmit,s=e.item,i=r.a.useState(!1),o=Object(u.a)(i,2),d=o[0],j=o[1],l=function(){j(!d)};return Object(p.jsxs)("div",{className:"btn-create-element",children:[Object(p.jsx)(C,{show:d,handleNo:function(){return j(!1)},handleYes:function(){l()},type:n,action:c,handleSubmit:a,item:s}),Object(p.jsx)(h.a,{variant:"edit"===c?"success":"primary",onClick:l,children:t})]})};n(61);var k=function(){return Object(p.jsx)("div",{className:"loader",children:"Loading..."})},S=n(7),I=n.n(S),B=n(13),E=n(44),G=function e(){var t=this;Object(E.a)(this,e),this._baseUrl="https://608298915dbd2c0017579fcc.mockapi.io/api/v1/",this.getResource=function(){var e=Object(B.a)(I.a.mark((function e(n){var c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(n));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", received ").concat(c.status));case 5:return r=c.json(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delResource=function(){var e=Object(B.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/"+t,{method:"DELETE"});case 2:return n=e.sent,c=n.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addResource=function(){var e=Object(B.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/products",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,c=n.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateResource=function(){var e=Object(B.a)(I.a.mark((function e(t,n){var c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/products/".concat(t),{method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return c=e.sent,r=c.json(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getProducts=Object(B.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("products");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),this.getProductById=function(){var e=Object(B.a)(I.a.mark((function e(n){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("products/".concat(n));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delProductById=function(){var e=Object(B.a)(I.a.mark((function e(n){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delResource("products/".concat(n));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addProduct=function(){var e=Object(B.a)(I.a.mark((function e(n){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addResource(n);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateProduct=function(){var e=Object(B.a)(I.a.mark((function e(n,c){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateResource(n,c);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};n(63);var P=function(){var e=new G,t=r.a.useState(null),n=Object(u.a)(t,2),c=n[0],a=n[1],s=r.a.useState(!0),i=Object(u.a)(s,2),j=i[0],l=i[1];r.a.useEffect((function(){h(),window.scrollTo(0,0)}),[]);var h=function(){e.getProducts().then((function(e){l(!1);var t=x(e,"name");a(t)}))},b=function(t){l(!0),e.delProductById(t).then((function(e){h()}))},x=function(e,t){return e.sort((function(e,n){return e[t]>n[t]?1:-1})),e};return Object(p.jsx)(d.a,{children:Object(p.jsxs)("div",{className:"content-wrapper",children:[Object(p.jsx)(v,{onToggleSort:function(e){if(c){var t=Object(o.a)(c),n=x(t,e);a(n)}}}),Object(p.jsx)(_,{nameBtn:"+New",type:"form",action:"create",handleSubmit:function(t){l(!0),e.addProduct(t).then((function(e){l(!1),h()}))}}),j?Object(p.jsx)(k,{}):c&&c.map((function(e){return Object(p.jsx)(m,{item:e,onDelete:b},e.id)}))]})})},T=n(8);n(64);var R=function(){var e=Object(T.f)();return Object(p.jsx)("div",{className:"back-arrow",onClick:function(){return e.goBack()},children:Object(p.jsx)("svg",{viewBox:"0 0 24 24",children:Object(p.jsx)("g",{children:Object(p.jsx)("path",{className:"arrow-icon",d:"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"})})})})};n(65);var L=function(e){var t=e.comments;return Object(p.jsxs)("div",{className:"comments-list",children:[Object(p.jsx)("h4",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456"}),Object(p.jsx)(_,{nameBtn:"+New",type:"comment"}),t.length>0?t.map((function(e){return Object(p.jsxs)("div",{className:"comment",children:[Object(p.jsx)("div",{className:"comment__del",children:"x"}),Object(p.jsx)("p",{children:e.text}),Object(p.jsxs)("div",{className:"comment__bottom",children:[Object(p.jsx)("span",{children:"\u0414\u0430\u0442\u0430:"})," ",e.date]})]},e.id)})):Object(p.jsx)("p",{className:"empty-list",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 :( "})]})};n(66);var H=function(e){var t=e.item,n=e.defImg,c=e.updateProduct;return Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)("div",{className:"product-details",children:[Object(p.jsxs)("div",{className:"product-details__name",children:[Object(p.jsx)(R,{}),Object(p.jsx)("p",{children:t.name}),Object(p.jsx)(_,{nameBtn:"Edit",action:"edit",type:"form",item:t,handleSubmit:c})]}),Object(p.jsxs)(j.a,{children:[Object(p.jsx)(l.a,{xs:12,md:6,children:Object(p.jsx)("div",{className:"product-details__img",children:Object(p.jsx)("img",{onError:n,src:t.imageUrl,alt:"product-poster"})})}),Object(p.jsxs)(l.a,{xs:12,md:6,children:[Object(p.jsx)("div",{className:"product-details__info",children:t.info}),Object(p.jsxs)("div",{className:"product-details__options",children:[Object(p.jsxs)("div",{className:"options options__size",children:[Object(p.jsxs)("span",{children:["\u0412\u0438\u0441\u043e\u0442\u0430: ",t.size.height]}),Object(p.jsxs)("span",{children:["\u0428\u0438\u0440\u0438\u043d\u0430: ",t.size.width]})]}),Object(p.jsx)("div",{className:"options options__weight",children:Object(p.jsxs)("span",{children:["\u0412\u0430\u0433\u0430: ",t.weight]})}),Object(p.jsx)("div",{className:"options options__count",children:Object(p.jsxs)("span",{children:["\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456: ",t.count," \u0448\u0442."]})})]})]})]})]})})},U=function(e){var t=e.itemId,n=new G,c=r.a.useState(null),a=Object(u.a)(c,2),s=a[0],i=a[1];r.a.useEffect((function(){n.getProductById(t).then((function(e){i(e)}))}),[t]);var o=function(){var e=Object(B.a)(I.a.mark((function e(c){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updateProduct(t,c).then((function(e){i(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(d.a,{children:Object(p.jsxs)("div",{className:"content-wrapper",children:[s?Object(p.jsx)(H,{item:s,defImg:function(e){e.target.src=O},updateProduct:o}):Object(p.jsx)(k,{}),s&&Object(p.jsx)(L,{comments:s.comments})]})})},z=Object(T.g)((function(e){var t=e.children,n=e.location.pathname;return Object(c.useEffect)((function(){window.scrollTo({top:0,left:0})}),[n]),t||null}));n(67);var D=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(T.c,{children:[Object(p.jsx)(T.a,{path:"/",exact:!0,component:P}),Object(p.jsx)(T.a,{path:"/:id",render:function(e){var t=e.match;return Object(p.jsx)(U,{itemId:t.params.id,exact:!0})}})]})})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)(z,{children:Object(p.jsx)(D,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.11466c67.chunk.js.map