(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),s=n.n(a),i=n(20),o=n(8),u=n(1);var d=Object(o.g)((function(e){var t=e.history,n=e.children;return Object(c.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),Object(u.jsx)(c.Fragment,{children:n})})),j=n(45),l=n(9),h=n(72),b=n(71),p=n(43),x=n(70),O=n(73);var f=function(e){var t=e.handleNo,n=e.handleYes,c=e.show,r=e.name;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O.a,{animation:!1,show:c,onHide:t,children:[Object(u.jsx)(O.a.Header,{closeButton:!0,children:Object(u.jsx)(O.a.Title,{children:"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443"})}),Object(u.jsxs)(O.a.Body,{children:["\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ",Object(u.jsxs)("b",{children:['"',r,'"']}),"?"]}),Object(u.jsxs)(O.a.Footer,{children:[Object(u.jsx)(x.a,{variant:"secondary",onClick:t,children:"\u041d\u0456"}),Object(u.jsx)(x.a,{variant:"primary",onClick:n,children:"\u0422\u0430\u043a"})]})]})})},m=n.p+"static/media/no-image.92588243.png";n(56);var v=function(e){var t=e.item,n=e.onDelete,c=t.id,a=t.name,s=t.imageUrl,o=t.count,d=t.info,j=r.a.useState(!1),h=Object(l.a)(j,2),O=h[0],v=h[1],g=function(){v(!O)};return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)(f,{show:O,handleNo:function(){return v(!1)},handleYes:function(){g(),n(c)},name:a}),Object(u.jsxs)("div",{className:"product__name",children:[a,Object(u.jsx)("div",{className:"product__del",onClick:g,children:"x"})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(p.a,{xs:12,md:5,children:Object(u.jsx)("div",{className:"product__image",children:Object(u.jsx)("img",{onError:function(e){e.target.src=m},src:s,alt:"product"})})}),Object(u.jsxs)(p.a,{xs:12,md:7,children:[Object(u.jsxs)("div",{className:"product__info",children:[" ",d," "]}),Object(u.jsxs)("div",{className:"product__count",children:[" \u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456: ",o," \u0448\u0442."]})]})]}),Object(u.jsx)("div",{className:"product__link",children:Object(u.jsx)(i.b,{to:"/".concat(c),children:Object(u.jsx)(x.a,{variant:"info",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435..."})})})]})},g=(n(57),[{title:"\u0406\u043c\u0435\u043d\u0456",type:"name"},{title:"\u041d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456",type:"count"}]);var w=function(e){var t=e.onToggleSort,n=r.a.useState(0),c=Object(l.a)(n,2),a=c[0],s=c[1];return r.a.useEffect((function(){t("count")}),[]),Object(u.jsxs)("div",{className:"sort-filter",children:[Object(u.jsx)("span",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:"}),Object(u.jsx)("ul",{children:g&&g.map((function(e,n){return Object(u.jsxs)("li",{className:a===n?"sort-active":"",onClick:function(){!function(e,n){s(e),t(n)}(n,e.type)},children:[" ",e.title]},"".concat(e.title,"_").concat(n))}))})]})},y=n(75),N=n(74);var C=function(e){var t=e.details,n=t.show,c=t.handleNo,a=t.handleSubmit,s=t.action,i=t.item,o=r.a.useState(!1),d=Object(l.a)(o,2),j=d[0],h=d[1],b=r.a.useState(i?i.name:""),f=Object(l.a)(b,2),m=f[0],v=f[1],g=r.a.useState(i?i.imageUrl:""),w=Object(l.a)(g,2),C=w[0],_=w[1],k=r.a.useState(i?i.info:""),S=Object(l.a)(k,2),I=S[0],B=S[1],E=r.a.useState(i?i.size.height:""),G=Object(l.a)(E,2),P=G[0],R=G[1],T=r.a.useState(i?i.size.width:""),L=Object(l.a)(T,2),H=L[0],U=L[1],z=r.a.useState(i?i.weight:""),F=Object(l.a)(z,2),D=F[0],J=F[1],W=r.a.useState(i?i.count:""),Y=Object(l.a)(W,2),A=Y[0],M=Y[1],q=function(){c(),h(!1)},K=function(){v(""),_(""),B(""),J(""),U(""),R(""),M("")},Q=function(){h(!j)},V="create"===s?"Create New ":"Edit ";return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O.a,{animation:!1,show:n,onHide:q,children:[Object(u.jsx)(O.a.Header,{closeButton:!0,children:Object(u.jsxs)(O.a.Title,{children:[V," Product"]})}),j&&Object(u.jsx)(y.a,{className:"m-2",variant:"danger",children:"Error! Some fields are empty"}),Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)(N.a.Row,{children:[Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridName",children:[Object(u.jsx)(N.a.Label,{children:"Name"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return v(e.target.value)},type:"text",placeholder:"Enter product name",value:m})]}),Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridImage",children:[Object(u.jsx)(N.a.Label,{children:"Image Url"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return _(e.target.value)},value:C,type:"text",placeholder:"Enter image url"})]})]}),Object(u.jsxs)(N.a.Group,{controlId:"formGridDesc",children:[Object(u.jsx)(N.a.Label,{children:"Description"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return B(e.target.value)},value:I,placeholder:"Enter product description"})]}),Object(u.jsxs)(N.a.Row,{children:[Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridHeight",children:[Object(u.jsx)(N.a.Label,{children:"Height"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return R(e.target.value)},value:P})]}),Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridWidth",children:[Object(u.jsx)(N.a.Label,{children:"Width"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return U(e.target.value)},value:H})]}),Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridWeight",children:[Object(u.jsx)(N.a.Label,{children:"Weight"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return J(e.target.value)},value:D})]}),Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridCount",children:[Object(u.jsx)(N.a.Label,{children:"Count"}),Object(u.jsx)(N.a.Control,{onChange:function(e){return M(e.target.value)},value:A})]})]}),Object(u.jsx)(x.a,{variant:"secondary",onClick:q,children:"Cancel"}),Object(u.jsx)(x.a,{className:"m-2",variant:"primary",type:"submit",onClick:function(){var e={name:m,imageUrl:C,weight:D,count:A,info:I,size:{height:P,width:H},comments:[]};m&&C&&D&&A&&I&&P&&H?(!i&&K(),c(),a(e)):Q()},children:"Ok"})]})})]})})};var _=function(e){var t=e.details,n=t.show,c=t.handleNo,r=t.handleYes;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O.a,{animation:!1,show:n,onHide:c,children:[Object(u.jsx)(O.a.Header,{closeButton:!0,children:Object(u.jsx)(O.a.Title,{children:"Create New Comment"})}),Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(N.a.Row,{children:Object(u.jsxs)(N.a.Group,{as:p.a,controlId:"formGridImage",children:[Object(u.jsx)(N.a.Label,{children:"Text"}),Object(u.jsx)(N.a.Control,{type:"text",placeholder:"Please, enter your text here"})]})}),Object(u.jsx)(x.a,{variant:"secondary",onClick:c,children:"Cancel"}),Object(u.jsx)(x.a,{className:"m-2",variant:"primary",type:"submit",onClick:r,children:"Create"})]})})]})})};n(59);var k=function(e){var t="form"===e.type?Object(u.jsx)(C,{details:e}):Object(u.jsx)(_,{details:e});return Object(u.jsx)("div",{children:t})};n(60);var S=function(e){var t=e.nameBtn,n=e.type,c=e.action,a=e.handleSubmit,s=e.item,i=r.a.useState(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],h=function(){j(!d)};return Object(u.jsxs)("div",{className:"btn-create-element",children:[Object(u.jsx)(k,{show:d,handleNo:function(){return j(!1)},handleYes:function(){h()},type:n,action:c,handleSubmit:a,item:s}),Object(u.jsx)(x.a,{variant:"edit"===c?"success":"primary",onClick:h,children:t})]})};n(61);var I=function(){return Object(u.jsx)("div",{className:"loader",children:"Loading..."})},B=n(7),E=n.n(B),G=n(13),P=n(44),R=function e(){var t=this;Object(P.a)(this,e),this._baseUrl="https://608298915dbd2c0017579fcc.mockapi.io/api/v1/",this.getResource=function(){var e=Object(G.a)(E.a.mark((function e(n){var c,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(n));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", received ").concat(c.status));case 5:return r=c.json(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delResource=function(){var e=Object(G.a)(E.a.mark((function e(t){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/"+t,{method:"DELETE"});case 2:return n=e.sent,c=n.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addResource=function(){var e=Object(G.a)(E.a.mark((function e(t){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/products",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,c=n.json(),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateResource=function(){var e=Object(G.a)(E.a.mark((function e(t,n){var c,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://608298915dbd2c0017579fcc.mockapi.io/api/v1/products/".concat(t),{method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return c=e.sent,r=c.json(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getProducts=Object(G.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("products");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),this.getProductById=function(){var e=Object(G.a)(E.a.mark((function e(n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("products/".concat(n));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delProductById=function(){var e=Object(G.a)(E.a.mark((function e(n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delResource("products/".concat(n));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addProduct=function(){var e=Object(G.a)(E.a.mark((function e(n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addResource(n);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateProduct=function(){var e=Object(G.a)(E.a.mark((function e(n,c){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateResource(n,c);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};n(63);var T=function(){var e=new R,t=r.a.useState(null),n=Object(l.a)(t,2),c=n[0],a=n[1],s=r.a.useState(!0),i=Object(l.a)(s,2),o=i[0],d=i[1];r.a.useEffect((function(){b()}),[]);var b=function(){e.getProducts().then((function(e){d(!1);var t=x(e,"name");a(t)}))},p=function(t){d(!0),e.delProductById(t).then((function(e){b()}))},x=function(e,t){return e.sort((function(e,n){return e[t]>n[t]?1:-1})),e};return Object(u.jsx)(h.a,{children:Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(w,{onToggleSort:function(e){if(c){var t=Object(j.a)(c),n=x(t,e);a(n)}}}),Object(u.jsx)(S,{nameBtn:"+New",type:"form",action:"create",handleSubmit:function(t){d(!0),e.addProduct(t).then((function(e){d(!1),b()}))}}),o?Object(u.jsx)(I,{}):c&&c.map((function(e){return Object(u.jsx)(v,{item:e,onDelete:p},e.id)}))]})})};n(64);var L=function(){var e=Object(o.f)();return Object(u.jsx)("div",{className:"back-arrow",onClick:function(){return e.goBack()},children:Object(u.jsx)("svg",{viewBox:"0 0 24 24",children:Object(u.jsx)("g",{children:Object(u.jsx)("path",{className:"arrow-icon",d:"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z"})})})})};n(65);var H=function(e){var t=e.comments;return Object(u.jsxs)("div",{className:"comments-list",children:[Object(u.jsx)("h4",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456"}),Object(u.jsx)(S,{nameBtn:"+New",type:"comment"}),t.length>0?t.map((function(e){return Object(u.jsxs)("div",{className:"comment",children:[Object(u.jsx)("div",{className:"comment__del",children:"x"}),Object(u.jsx)("p",{children:e.text}),Object(u.jsxs)("div",{className:"comment__bottom",children:[Object(u.jsx)("span",{children:"\u0414\u0430\u0442\u0430:"})," ",e.date]})]},e.id)})):Object(u.jsx)("p",{className:"empty-list",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 :( "})]})};n(66);var U=function(e){var t=e.item,n=e.defImg,c=e.updateProduct;return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{className:"product-details",children:[Object(u.jsxs)("div",{className:"product-details__name",children:[Object(u.jsx)(L,{}),Object(u.jsx)("p",{children:t.name}),Object(u.jsx)(S,{nameBtn:"Edit",action:"edit",type:"form",item:t,handleSubmit:c})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(p.a,{xs:12,md:6,children:Object(u.jsx)("div",{className:"product-details__img",children:Object(u.jsx)("img",{onError:n,src:t.imageUrl,alt:"product-poster"})})}),Object(u.jsxs)(p.a,{xs:12,md:6,children:[Object(u.jsx)("div",{className:"product-details__info",children:t.info}),Object(u.jsxs)("div",{className:"product-details__options",children:[Object(u.jsxs)("div",{className:"options options__size",children:[Object(u.jsxs)("span",{children:["\u0412\u0438\u0441\u043e\u0442\u0430: ",t.size.height]}),Object(u.jsxs)("span",{children:["\u0428\u0438\u0440\u0438\u043d\u0430: ",t.size.width]})]}),Object(u.jsx)("div",{className:"options options__weight",children:Object(u.jsxs)("span",{children:["\u0412\u0430\u0433\u0430: ",t.weight]})}),Object(u.jsx)("div",{className:"options options__count",children:Object(u.jsxs)("span",{children:["\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456: ",t.count," \u0448\u0442."]})})]})]})]})]})})},z=function(e){var t=e.itemId,n=new R,c=r.a.useState(null),a=Object(l.a)(c,2),s=a[0],i=a[1];r.a.useEffect((function(){n.getProductById(t).then((function(e){i(e)}))}),[t]);var o=function(){var e=Object(G.a)(E.a.mark((function e(c){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updateProduct(t,c).then((function(e){i(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(h.a,{children:Object(u.jsxs)("div",{className:"content-wrapper",children:[s?Object(u.jsx)(U,{item:s,defImg:function(e){e.target.src=m},updateProduct:o}):Object(u.jsx)(I,{}),s&&Object(u.jsx)(H,{comments:s.comments})]})})};n(67);var F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/",exact:!0,component:T}),Object(u.jsx)(o.a,{path:"/:id",render:function(e){var t=e.match;return Object(u.jsx)(z,{itemId:t.params.id,exact:!0})}})]})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(d,{children:Object(u.jsx)(F,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.fddb8987.chunk.js.map